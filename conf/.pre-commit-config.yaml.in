fail_fast: false
default_install_hook_types: [pre-commit, commit-msg]
repos:
    # online hooks diabled temporary
    # - repo: https://github.com/pre-commit/pre-commit-hooks
    #rev: v2.1.0
    #hooks:
    #- id: trailing-whitespace
  - repo: local
    hooks:
      - id: clean_cache
        name: clean pre-commit cache
        description: This hook run pre-commit clean to drop cache.
        entry: pre-commit clean
        language: system
        always_run: true
        pass_filenames: false
      - id: cppcheck-misra
        name: check cppcheck-misra
        description: This hook run cppcheck-misra check on changes
        # there must use the absolute path
        entry:  PYTHON_EXE REPLACE_ME/cppcheck/misra/pre_commit.py
        language: system
        types: [text]
        always_run: true
        verbose: true
      - id: cppcheck-flag
        name: add text to commit-msg whether do cppcheck
        stages: [commit-msg]
        description: add text to commit-msg whether do cppcheck
        entry: PYTHON_EXE REPLACE_ME/cppcheck/misra/cppcheck_flag.py
        language: system
        pass_filenames: yes
        types: [text]
      - id: add-changedID
        name: add-changedID
        stages: [commit-msg]
        description: This hook  auto to add change ID
        entry:  REPLACE_ME/cppcheck/misra/addChangedID.sh
        language: system
        pass_filenames: yes
